<?php

use Illuminate\Foundation\Testing\DatabaseMigrations;

class RegionsTest extends TestCase
{
    use DatabaseMigrations;

    protected function setUp()
    {
        parent::setUp(); // TODO: Change the autogenerated stub
    }



    public function testIndex()
    {
        $regions = factory(\App\Type\Region::class, 4)->create();

        $r = $this->get('/api/regions');
            $r->seeStatusCode(200)
            ->seeJsonStructure([
                'data' => [
                    '*' => [
                        'id',
                        'title'
                    ]
                ]
            ]);

        $regions = json_decode($r->response->content())->data;
        $this->assertEquals(4, count($regions));

    }






}
